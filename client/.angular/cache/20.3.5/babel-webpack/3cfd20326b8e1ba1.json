{"ast":null,"code":"var _staticBlock;\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nexport class DashboardComponent {\n  constructor() {\n    this.incomeTotal = 0;\n    this.expenseTotal = 0;\n  }\n  ngOnInit() {\n    // Fetch totals from backend\n    axios.get('http://localhost:5000/api/incomes').then(r => {\n      const incomes = r.data || [];\n      this.incomeTotal = incomes.reduce((s, i) => s + (i.amount || 0), 0);\n    });\n    axios.get('http://localhost:5000/api/expenses').then(r => {\n      const expenses = r.data || [];\n      this.expenseTotal = expenses.reduce((s, e) => s + (e.amount || 0), 0);\n    });\n    // Simple static chart sample - user can replace with ng2-charts\n    setTimeout(() => {\n      const ctx = document.getElementById('chart').getContext('2d');\n      if (ctx) {\n        // dynamic import not possible here offline - keep minimal chart example\n        const Chart = window.Chart;\n        if (Chart) {\n          new Chart(ctx, {\n            type: 'pie',\n            data: {\n              labels: ['Income', 'Expense'],\n              datasets: [{\n                data: [this.incomeTotal || 1, this.expenseTotal || 1]\n              }]\n            }\n          });\n        }\n      }\n    }, 1000);\n  }\n  static #_ = _staticBlock = () => (this.ɵfac = function DashboardComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DashboardComponent)();\n  }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[2, \"margin-top\", \"12px\"], [\"id\", \"chart\", \"width\", \"400\", \"height\", \"200\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵdomElementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Dashboard\");\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵdomElementStart(2, \"p\");\n        i0.ɵɵtext(3, \"Totals (example):\");\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵdomElementStart(4, \"div\")(5, \"strong\");\n        i0.ɵɵtext(6, \"Income: \");\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵtext(7);\n        i0.ɵɵdomElementStart(8, \"strong\");\n        i0.ɵɵtext(9, \"Expense: \");\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵtext(10);\n        i0.ɵɵdomElementStart(11, \"strong\");\n        i0.ɵɵtext(12, \"Balance: \");\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵtext(13);\n        i0.ɵɵdomElementEnd();\n        i0.ɵɵdomElementStart(14, \"div\", 0);\n        i0.ɵɵdomElement(15, \"canvas\", 1);\n        i0.ɵɵdomElementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", ctx.incomeTotal, \" | \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.expenseTotal, \" | \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.incomeTotal - ctx.expenseTotal, \" \");\n      }\n    },\n    encapsulation: 2\n  }));\n}\n_staticBlock();","map":{"version":3,"names":["axios","DashboardComponent","constructor","incomeTotal","expenseTotal","ngOnInit","get","then","r","incomes","data","reduce","s","i","amount","expenses","e","setTimeout","ctx","document","getElementById","getContext","Chart","window","type","labels","datasets","_","_staticBlock","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","i0","ɵɵdomElementStart","ɵɵtext","ɵɵdomElementEnd","ɵɵdomElement","ɵɵadvance","ɵɵtextInterpolate1"],"sources":["C:\\Users\\Admin\\Desktop\\mean_finance\\client\\src\\app\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport axios from 'axios';\n\n@Component({\n  selector: 'app-dashboard',\n  template: `\n    <h2>Dashboard</h2>\n    <p>Totals (example):</p>\n    <div>\n      <strong>Income: </strong>{{incomeTotal}} |\n      <strong>Expense: </strong>{{expenseTotal}} |\n      <strong>Balance: </strong>{{incomeTotal - expenseTotal}}\n    </div>\n    <div style=\"margin-top:12px;\">\n      <canvas id=\"chart\" width=\"400\" height=\"200\"></canvas>\n    </div>\n  `\n})\nexport class DashboardComponent implements OnInit {\n  incomeTotal = 0;\n  expenseTotal = 0;\n\n  ngOnInit(){\n    // Fetch totals from backend\n    axios.get('http://localhost:5000/api/incomes').then(r=>{\n      const incomes = r.data || [];\n      this.incomeTotal = incomes.reduce((s:any,i:any)=> s + (i.amount||0), 0);\n    });\n    axios.get('http://localhost:5000/api/expenses').then(r=>{\n      const expenses = r.data || [];\n      this.expenseTotal = expenses.reduce((s:any,e:any)=> s + (e.amount||0), 0);\n    });\n    // Simple static chart sample - user can replace with ng2-charts\n    setTimeout(()=>{\n      const ctx = (document.getElementById('chart') as HTMLCanvasElement).getContext('2d');\n      if(ctx){\n        // dynamic import not possible here offline - keep minimal chart example\n        const Chart = (window as any).Chart;\n        if(Chart){\n          new Chart(ctx, { type:'pie', data:{ labels:['Income','Expense'], datasets:[{ data:[this.incomeTotal||1,this.expenseTotal||1] }] } });\n        }\n      }\n    },1000);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}